/**	Briefcase.js * author: Lily Madar * created: 7 Sept 2014 * source: https://github.com/Lily2point0/briefcasejs **/!function(){function r(e,t){var n="https://spreadsheets.google.com/feeds/list/"+e.id+"/"+e.sheetNumber+"/public/values?alt=json";s(n,t)}function i(e){Object.keys(t).forEach(function(n){if(e.hasOwnProperty(n)){t[n]=e[n]}});return t}function s(e,t){$.when($.ajax({url:e,type:"GET",crossDomain:true,dataType:"json"}).done(function(){console.log("done")}).fail(function(){console.log("error")})).then(function(e){o(e,n,t)})}function o(e,t,n){var r=e;switch(t){case"raw":n(r);break;case"json":n(u(r.feed.entry));break;case"csv":n(a(r.feed.entry));break;default:n(r.feed.entry);break}}function u(e){var n=[];for(var r=0;r<e.length;r++){var i=[];var s="";Object.keys(e[r]).forEach(function(o){if(o.toString().substring(0,4)=="gsx$"){var u={};var a={};var f=o.toString().substring(4,o.toString().length);var l=e[r][o].$t;if(t.type=="form"){if(f==t.leftColumnTitle){u.title=l;n.push(u)}else{if(f!="timestamp"){a.name=f.toString();a.value=l;i.push(a)}else{s=l}}}else{if(f==t.leftColumnTitle){u.title=l;n.push(u)}else{a.name=f.toString();a.value=l;i.push(a)}}}});n[r].categories=i;if(t.type=="form"&&t.showTimeStamp)n[r].timestamp=s}return n}function a(e){return"to be done"}var e={version:"0.0.1",getRawJSON:function(e,t){n="raw";r(i(e),t)},getJSON:function(e,t){n="json";r(i(e),t)},getCSV:function(e,t){n="csv";r(i(e),t)}},t={id:"",type:"spreadsheet",sheetNumber:1,leftColumnTitle:"item",showTimeStamp:false},n;this.briefcase=e}()